import os
lst = os.listdir('..\\test')
f = os.system('javac Main.java')
print('Compile: '+str(f))
for f in lst:
    res = os.system('java Main ..\\test\\'+f+' > ..\\test.kg')
    print(res)
    print('Testing '+f)
    fout = os.popen('java -jar ..\\kgi.jar < ..\\test.kg')
    out = fout.read()
    fans = os.popen('java -jar ..\\pgi.jar < ..\\test\\'+f)
    ans = fans.read()
    #print(ans)
    #print(out)
    print(out==ans)
